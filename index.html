<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
  <script type="module" src="/main.js"></script>
  <link href="/style.css" rel="stylesheet" />
  <title>Clue to Drip</title>
</head>

<body>
  <h1>Clue to Drip Converter</h1>
  <h2>
    Upload an exported clue file and you can download a CSV compatible with
    drop
  </h2>

  <p>
    Export your Clue data and extract the password-protected zip file. From that folder select the file called "measurements.json". This is the file you will upload here.
  </p>

  <div x-data="fileUpload">
    <div id="FileUpload" class="file-upload">
      <input type="file" x-on:change="onUpload" accept="application/JSON" />
      <template x-if="file !== null">
        <div>
          <div>
            <span x-text="file.name">Uploading</span>
          </div>
        </div>
      </template>

      <template x-if="file === null">
        <div>
          <p>Drag your files here or click in this area.</p>
          <a href="javascript:void(0)">Select a file</a>
        </div>
      </template>
    </div>
    <template x-if="error">
      <p class="read-error">We could not read your uploaded file</p>
    </template>
    <template x-if="fileToDownload">
      <button @click="downloadCSV" class="download-button">
        Download File
      </button>
    </template>
  </div>


</body>

</html>